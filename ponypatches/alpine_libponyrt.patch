diff --git a/src/libponyrt/lang/socket.c b/src/libponyrt/lang/socket.c
index 9de01b4..197fdca 100644
--- a/src/libponyrt/lang/socket.c
+++ b/src/libponyrt/lang/socket.c
@@ -4470,8 +4470,8 @@ PONY_API int pony_os_sockopt_option(int option)
 #ifdef SO_RCVLOWAT
     case 886: return SO_RCVLOWAT;
 #endif
-#ifdef SO_RCVTIMEO
-    case 887: return SO_RCVTIMEO;
+#ifdef SO_RCVTIMEO_OLD
+    case 887: return SO_RCVTIMEO_OLD;
 #endif
 #ifdef SO_RDS_TRANSPORT
     case 888: return SO_RDS_TRANSPORT;
@@ -4527,8 +4527,8 @@ PONY_API int pony_os_sockopt_option(int option)
 #ifdef SO_SNDLOWAT
     case 905: return SO_SNDLOWAT;
 #endif
-#ifdef SO_SNDTIMEO
-    case 906: return SO_SNDTIMEO;
+#ifdef SO_SNDTIMEO_OLD
+    case 906: return SO_SNDTIMEO_OLD;
 #endif
 #ifdef SO_TIMESTAMP
     case 907: return SO_TIMESTAMP;
