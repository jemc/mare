:import "../micro_test" (MicroTest)

:primitive _EarlyReturn
  :fun non conditional(early Bool) U64
    if early (return 33)
    11

:class Container(A)
  :var value A
  :new (@value)

:struct ContainerStruct(A)
  :let value A
  :new (@value)

:actor Main
  :new (env)
    test = MicroTest.new(env)
    test.print_line_break // TODO: move to MicroTest constructor and finalizer

    TrySpec.run(test)
    WhileSpec.run(test)
    ReturnSpec.run(test)
    ReflectionSpec.run(test)
    SourceCodeSpec.run(test)
    DisplacingAssignmentSpec.run(test)
    IdentitySpec.run(test)

    test.print_line_break // TODO: move to MicroTest constructor and finalizer
